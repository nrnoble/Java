package nrnoble;

import java.util.List;

public class Main
{

	public Main()
	{
		// Nothing to do here
	}

	/**
	 * Start of this application
	 * @param args
	 * @throws InterruptedException 
	 */
	public static void main(String[] args) throws InterruptedException
	{
		info();
		
//		java.util.List<Integer> primeNumbers = 
//				Utils.findPrimes(Config.RANGE_START, 
//						         Config.RANGE_END);
//		
//		Utils.columnDisplay(Config.NUM_OF_COLUMNS, 
//							primeNumbers, 
//				            Config.LEFT_JUSTIFICATION);
//		
		
		
		List <Utils.Points> rangeList = Utils.RangeList(Config.RANGE_END, Config.NUMBEROFTHREADS);
		
		
		
		SynchronizedPrimeWorker threads = new SynchronizedPrimeWorker();
		
		int threadID = 1;
		for(Utils.Points points : rangeList)
		{
			PrimeWorker primeworker = new PrimeWorker(points.getStart(),
														points.getEnd(),
														threadID++);
			Thread thread = new Thread(primeworker);
			threads.add(thread);
		}
		
		
		threads.startThreads();
		
		// wait untill all threads have exited.
		threads.waits();
		
		int threadCount = 0;
		
		for(Utils.Points  points : rangeList)
		{
			System.out.println("ThreadID-"+ ++threadCount + " " + String.format(Config.DIGITS, points.getStart()) + " .. " + String.format(Config.DIGITS, points.getEnd()));
		}
		System.out.println();
		System.out.println("Prime Number Count: " + PrimesData.primeNumberCounter()+ " found between " + Config.RANGE_START + "..." + Config.RANGE_END); 
		System.out.println("----------------------------------------------------------------------------------------------------------------");
		PrimesData.displayPrimesFound(true);
		
		

		
	}
	
	
	/**
	 * Assignment information
	 */
	public static void info()
	{
		System.out.println("Neal Noble");
		System.out.println("IT 301");
		System.out.println("Assignment: Threads");
		System.out.println("March 2016");
		System.out.println("");
		System.out.println();
	}


}
